import { getPage } from "@/lib/pageContent";
import { Metadata } from "next";
import { notFound } from "next/navigation";
import GlobalHeader from "@/components/GlobalHeader";
import LeftSidebar from "@/components/LeftSidebar";
import RightSidebar from "@/components/RightSidebar";
import MobileBottomNav from "@/components/mobile/MobileBottomNav";

export const metadata: Metadata = {
    title: "Hakkımızda | Ultraswall",
};

export default async function AboutPage() {
    const page = await getPage("about");

    if (!page) {
        notFound();
    }

    return (
        <div className="flex justify-center w-full min-h-screen bg-black">
            <div className="flex w-full max-w-[1310px]">
                {/* Left Sidebar */}
                <header className="left-nav flex-shrink-0 w-[88px] xl:w-[275px] h-screen sticky top-0 overflow-y-auto z-10 hidden md:block">
                    <div className="h-full w-full">
                        <LeftSidebar />
                    </div>
                </header>

                {/* content flex container */}
                <main className="flex flex-1 min-h-screen">
                    {/* Middle Content */}
                    <section className="flex-1 w-full lg:max-w-[600px] flex flex-col items-stretch border-x border-theme-border pb-16 lg:pb-0 relative">
                        <div className="sticky top-0 z-50">
                            <GlobalHeader title={page.title} subtitle={page.subtitle} />
                        </div>
                        <div className="p-4 static-page-content max-w-none text-[15px] leading-relaxed">
                            <div dangerouslySetInnerHTML={{ __html: page.content }} />
                        </div>
                    </section>

                    {/* Right Sidebar */}
                    <aside className="hidden lg:block w-[350px] flex-shrink-0 ml-[10px] pt-6">
                        <div className="sticky top-6 max-h-[calc(100vh-3rem)] overflow-y-auto">
                            <RightSidebar />
                        </div>
                    </aside>
                </main>
            </div>

            <MobileBottomNav />
        </div>
    );
}
